---
import createWeekOptions from "../../../utilities/createWeekOptions/index.ts";
import generateShortId from "../../../utilities/generateShortId/index.ts";
import mapAttributes from "../../../utilities/mapAttributes/index.ts";
import Select from "../Select/index.astro";

const {
  autocomplete,
  dataset: elementDataset = {},
  field = "month-select",
  form,
  id = generateShortId(),
  includeNull,
  labelledBy,
  name = "month",
  required,
  selected,
  weeks,
  wrapper = {},
  ...attrs
} = Astro.props;

const selectAttrs = mapAttributes(attrs, ["select"]);

const options = createWeekOptions(weeks as Array<number>);
---

<Select
  {...selectAttrs}
  {autocomplete}
  {field}
  {form}
  {id}
  {includeNull}
  {labelledBy}
  {name}
  {options}
  {required}
  {selected}
  {wrapper}
/>
